import{d as u,A as g,e as x,r as c,u as p,j as e,F as l,P as v,L as f}from"./index-DGztJ_8H.js";import{F as w}from"./FadeIn-DVAY6-68.js";const j="/myfapp/logoMf.svg",_="/myfapp/homefone.svg";class y{async checkLoadingServer(){console.log("checkLoadingServer");try{return(await u.get(`${g.CHECK}`,{withCredentials:!1})).data}catch(n){return n instanceof x?n.response?.data?n.response.data.message:n.message:"Unexpected error"}}}const b=new y,S=()=>{const s=document.getElementById("waveCanvas");if(!s)return;const n=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight;const t=[];let a=null;function r(){t.push({x:Math.random()*s.width,y:Math.random()*s.height,radius:0,alpha:.5})}function d(){a||(a=setInterval(r,3e3))}function m(){a&&(clearInterval(a),a=null)}document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?d():m()}),d();function h(){n.clearRect(0,0,s.width,s.height);for(let o=t.length-1;o>=0;o--){const i=t[o];i.radius+=4,i.alpha-=.005,n.beginPath(),n.arc(i.x,i.y,i.radius,0,Math.PI*2),n.strokeStyle=`rgba(0, 100, 200, ${i.alpha})`,n.lineWidth=3,n.stroke(),(i.alpha<=0||i.radius>Math.max(s.width,s.height))&&t.splice(o,1)}requestAnimationFrame(h)}h(),window.addEventListener("resize",()=>{s.width=window.innerWidth,s.height=window.innerHeight})},k=c.memo(()=>{const[s,n]=c.useState(),t=p(),a=async()=>{n(void 0);const r=await b.checkLoadingServer();n(r||"Server is not running")};return document.addEventListener("mousemove",r=>{Object.assign(document.documentElement,{style:`
    --move-x: ${(r.clientX-window.innerWidth/2)*-.003}deg;
    --move-y: ${(r.clientY-window.innerHeight/2)*-.008}deg;
    `})}),c.useEffect(()=>{s!=="Server is running"&&a()},[]),c.useLayoutEffect(()=>{S()},[]),e.jsxs(w,{className:"layers",children:[e.jsx("canvas",{id:"waveCanvas",style:{position:"absolute",zIndex:-2}}),e.jsxs(l,{column:!0,spredV:!0,centerV:!0,className:"home",children:[s&&s!=="Server is running"&&e.jsxs(l,{gap:30,onClick:a,className:"serverload",children:[e.jsx(v,{}),e.jsxs("p",{children:["Сервер не активний!",e.jsx("br",{}),e.jsx("br",{}),s," ",e.jsx("br",{}),e.jsxs("span",{children:["Зачекайте 30 секунд,",e.jsx("br",{}),"та натисніть сюди"]})]})]}),e.jsx("h1",{className:"home__maintext",children:"СВІТ ТВОЄЇ ПРИСТРАСТІ"}),e.jsx("div",{onClick:()=>t("/mypage"),className:"home__logobox",children:e.jsx("img",{className:"home__logobox__logo",src:j,alt:"logo"})}),e.jsxs(l,{column:!0,className:"home__text",children:[e.jsx("h1",{onClick:()=>t("/about"),className:"home__maintext home__mainmin",children:"Моя рибалка"}),e.jsx("p",{className:"home__ruleslink",onClick:()=>t("/about"),children:"Перед тим як розпочати, ознайомтеся з правилами."}),e.jsx("a",{href:f,children:"download android apk"})]}),e.jsx(l,{center:!0,className:"home__fone",children:e.jsx("img",{src:_,alt:"Fon"})})]})]})});export{k as default};
