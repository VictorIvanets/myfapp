import{r as p,j as e,F as x}from"./index-DGztJ_8H.js";import{I as f}from"./InputText-DrMggox2.js";import{L as F}from"./index-Be4r2ik1.js";import{u as d,a as L}from"./useDebounce-BbGGsUUV.js";import{f as _}from"./fishing.services-DOcKL203.js";import{Q as b}from"./constants-BM5sXqWl.js";/* empty css                  */import"./useBaseQuery-6UluQ36d.js";const D=()=>{const[s,n]=p.useState(),[r,o]=p.useState(),i=d(s,500),l=d(r,500),{data:c,isLoading:u,isError:g,error:m,fetchNextPage:h,hasNextPage:t,isFetchingNextPage:v,isRefetching:P,refetch:j}=L({queryKey:[b.ALL_FISH,i,l],queryFn:({pageParam:a})=>_.getAll(a,i,l),getNextPageParam:a=>a.nextCursor??void 0,initialPageParam:void 0}),N=c?.pages.flatMap(a=>a.data)||[];return{isLoading:u,isError:g,error:m,fetchNextPage:h,hasNextPage:t,isFetchingNextPage:v,allItems:N,isRefetching:P,refetchData:j,valueTitle:s,setValueTitle:n,valueDescription:r,setValueDescription:o}},Q=p.memo(()=>{const{isLoading:s,isError:n,error:r,fetchNextPage:o,hasNextPage:i,isFetchingNextPage:l,allItems:c,valueTitle:u,setValueTitle:g,valueDescription:m,setValueDescription:h}=D();return e.jsx(e.Fragment,{children:e.jsx(x,{centerH:!0,className:"allfishingpage",children:e.jsxs(x,{column:!0,className:"allfishingpage__list",children:[e.jsx(f,{value:u,onChange:t=>g(t.target.value),id:"input_title_search",label:"Пошук по назві",searchLabel:!0}),e.jsx(f,{value:m,onChange:t=>h(t.target.value),id:"input_descriptoin_search",label:"Пошук за описом",searchLabel:!0}),e.jsx(F,{hasNextPage:i,fetchNextPage:o,isLoading:s,isFetchingNextPage:l,data:c}),n&&e.jsx("h4",{children:r?.message})]})})})});export{Q as default};
