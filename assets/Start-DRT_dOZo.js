import{r as h,j as e,F as x}from"./index-Ckg3aYmc.js";import{I as d}from"./InputText-ClY76fYv.js";import{u as f,a as j,L}from"./useDebounce-uGaMVgis.js";import{f as b,Q as D}from"./constants-CYQQ6vd9.js";/* empty css                  */import"./useBaseQuery-B3mVP0wl.js";const E=()=>{const[s,o]=h.useState(),[r,l]=h.useState(),i=f(s,500),n=f(r,500),{data:c,isLoading:u,isError:g,error:p,fetchNextPage:m,hasNextPage:t,isFetchingNextPage:v,isRefetching:P,refetch:N}=j({queryKey:[D.ALL_FISH_USER,i,n],queryFn:({pageParam:a})=>b.getAllByUser(a,i,n),getNextPageParam:a=>a.nextCursor??void 0,initialPageParam:void 0}),_=c?.pages.flatMap(a=>a.data)||[];return{isLoading:u,isError:g,error:p,fetchNextPage:m,hasNextPage:t,isFetchingNextPage:v,allItems:_,isRefetching:P,refetchData:N,valueTitle:s,setValueTitle:o,valueDescription:r,setValueDescription:l}},U=h.memo(()=>{const{isLoading:s,isError:o,error:r,fetchNextPage:l,hasNextPage:i,isFetchingNextPage:n,allItems:c,valueTitle:u,setValueTitle:g,valueDescription:p,setValueDescription:m}=E();return e.jsx(x,{centerH:!0,className:"startpage",children:e.jsxs(x,{column:!0,className:"startpage__list",children:[e.jsx(d,{value:u,onChange:t=>g(t.target.value),id:"input_title_search",label:"Пошук по назві",searchLabel:!0}),e.jsx(d,{value:p,onChange:t=>m(t.target.value),id:"input_descriptoin_search",label:"Пошук за описом",searchLabel:!0}),e.jsx(L,{hasNextPage:i,fetchNextPage:l,isLoading:s,isFetchingNextPage:n,data:c}),o&&e.jsx("h4",{children:r?.message})]})})});export{U as default};
