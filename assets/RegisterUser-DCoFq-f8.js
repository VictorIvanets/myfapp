import{q as _,f as b,u as f,r as u,z as h,t as y,j as e,F as m,g as q,L as w,B as S}from"./index-Bz-J4q0w.js";import{B as F}from"./Button-B05VXmkB.js";import{o as T,s as t,u as N,a as B}from"./inputtext-DzKzWJF0.js";import{F as E}from"./FadeIn-CMk5AFn5.js";import{I as i}from"./InputText-DwQ8miLC.js";const I=T({login:t({required_error:"login є обов’язковим"}).min(4,"login є обов’язковим, не менше 4х символів"),password:t({required_error:"Пароль є обов’язковим"}).min(4,"Пароль є обов’язковим, не менше 4х символів"),name:t({required_error:"Ім’я є обов’язковим"}).min(2,"Ім’я є обов’язковим, не менше 2х символів"),subname:t({required_error:"Прізвище є обов’язковим"}).min(2,"Прізвище є обов’язковим, не менше 2х символів"),country:t({required_error:"Країна є обов’язковим полем"}).min(2,"Країна є обов’язковим, не менше 2х символів"),city:t({required_error:"Місто є обов’язковим"}).min(2,"Місто є обов’язковим, не менше 2х символів")}),P=({})=>{const n=_(),r=b(o=>o.register),c=f(),[g,l]=u.useState(""),{register:s,handleSubmit:d,reset:p,formState:{errors:a,isValid:x}}=N({resolver:B(I),defaultValues:{login:"",password:"",name:"",subname:"",country:"",city:""}}),j=async o=>{l(o.password),n(S(o)),p()};return u.useEffect(()=>{n(h.clearRegister()),l("")},[]),u.useEffect(()=>{!r.errorMassege&&r.data&&(r.data&&n(y({login:r.data?.login,password:g})),c("/mypage"))},[r]),e.jsx(e.Fragment,{children:e.jsx(E,{children:e.jsxs(m,{column:!0,center:!0,gap:5,className:"registerform login",children:[e.jsx("h3",{children:"РЕЄСТРАЦІЯ"}),r.errorMassege?e.jsx("p",{className:"login__error",children:r.errorMassege}):e.jsx("p",{}),r.isLoading?e.jsx(q,{}):e.jsx("form",{onSubmit:d(j),className:"login__submitform",children:e.jsxs(m,{center:!0,column:!0,gap:25,children:[e.jsxs(m,{className:"login__submitform__input",column:!0,children:[e.jsx(i,{id:"input_login_register",label:"Логін",...s("login"),error:a.login?.message}),e.jsx(i,{id:"input_password_register",label:"Пароль",...s("password"),error:a.password?.message}),e.jsx(i,{id:"input_name",label:"Ім’я",...s("name"),error:a.name?.message}),e.jsx(i,{id:"input_subname",label:"Прізвище",...s("subname"),error:a.subname?.message}),e.jsx(i,{id:"input_country",label:"Країна",...s("country"),error:a.country?.message}),e.jsx(i,{id:"input_city",label:"Місто",...s("city"),error:a.city?.message})]}),e.jsx(F,{isValid:x,type:"submit",appearence:"big",title:"SUBMIT"})]})}),e.jsx(w,{to:"/login",children:e.jsx("p",{children:"вхід"})})]})})})};export{P as default};
