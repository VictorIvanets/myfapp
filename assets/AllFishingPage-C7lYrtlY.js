import{r as p,j as e,F as x}from"./index-C_RLOzkS.js";import{I as d}from"./InputText-CJTNc9UG.js";import{u as f,a as F,L}from"./useDebounce-CM--Jb9u.js";import{f as _,Q as b}from"./constants-5KMCgFt6.js";/* empty css                  */import"./useBaseQuery-BOuoyFFW.js";const D=()=>{const[s,n]=p.useState(),[i,o]=p.useState(),r=f(s,500),l=f(i,500),{data:c,isLoading:u,isError:g,error:h,fetchNextPage:m,hasNextPage:t,isFetchingNextPage:v,isRefetching:P,refetch:j}=F({queryKey:[b.ALL_FISH,r,l],queryFn:({pageParam:a})=>_.getAll(a,r,l),getNextPageParam:a=>a.nextCursor??void 0,initialPageParam:void 0}),N=c?.pages.flatMap(a=>a.data)||[];return{isLoading:u,isError:g,error:h,fetchNextPage:m,hasNextPage:t,isFetchingNextPage:v,allItems:N,isRefetching:P,refetchData:j,valueTitle:s,setValueTitle:n,valueDescription:i,setValueDescription:o}},V=p.memo(()=>{const{isLoading:s,isError:n,error:i,fetchNextPage:o,hasNextPage:r,isFetchingNextPage:l,allItems:c,valueTitle:u,setValueTitle:g,valueDescription:h,setValueDescription:m}=D();return e.jsx(e.Fragment,{children:e.jsx(x,{centerH:!0,className:"allfishingpage",children:e.jsxs(x,{column:!0,className:"allfishingpage__list",children:[e.jsx(d,{value:u,onChange:t=>g(t.target.value),id:"input_title_search",label:"Пошук по назві",searchLabel:!0}),e.jsx(d,{value:h,onChange:t=>m(t.target.value),id:"input_descriptoin_search",label:"Пошук за описом",searchLabel:!0}),e.jsx(L,{hasNextPage:r,fetchNextPage:o,isLoading:s,isFetchingNextPage:l,data:c}),n&&e.jsx("h4",{children:i?.message})]})})})});export{V as default};
