import{r as h,j as e,F as x}from"./index-_eOX-Mf-.js";import{I as d}from"./InputText-C4agJhyf.js";import{L as j}from"./index-DAXv28Dt.js";import{u as f,a as L}from"./useDebounce-C1eKLkcq.js";import{f as b}from"./fishing.services-Cn6BHP9Z.js";import{Q as D}from"./constants-BM5sXqWl.js";/* empty css                  */import"./useBaseQuery-CCrUEndx.js";const E=()=>{const[s,n]=h.useState(),[r,l]=h.useState(),i=f(s,500),o=f(r,500),{data:c,isLoading:u,isError:m,error:g,fetchNextPage:p,hasNextPage:t,isFetchingNextPage:v,isRefetching:P,refetch:N}=L({queryKey:[D.ALL_FISH_USER,i,o],queryFn:({pageParam:a})=>b.getAllByUser(a,i,o),getNextPageParam:a=>a.nextCursor??void 0,initialPageParam:void 0}),_=c?.pages.flatMap(a=>a.data)||[];return{isLoading:u,isError:m,error:g,fetchNextPage:p,hasNextPage:t,isFetchingNextPage:v,allItems:_,isRefetching:P,refetchData:N,valueTitle:s,setValueTitle:n,valueDescription:r,setValueDescription:l}},A=h.memo(()=>{const{isLoading:s,isError:n,error:r,fetchNextPage:l,hasNextPage:i,isFetchingNextPage:o,allItems:c,valueTitle:u,setValueTitle:m,valueDescription:g,setValueDescription:p}=E();return e.jsx(x,{centerH:!0,className:"startpage",children:e.jsxs(x,{column:!0,className:"startpage__list",children:[e.jsx(d,{value:u,onChange:t=>m(t.target.value),id:"input_title_search",label:"Пошук по назві",searchLabel:!0}),e.jsx(d,{value:g,onChange:t=>p(t.target.value),id:"input_descriptoin_search",label:"Пошук за описом",searchLabel:!0}),e.jsx(j,{hasNextPage:i,fetchNextPage:l,isLoading:s,isFetchingNextPage:o,data:c}),n&&e.jsx("h4",{children:r?.message})]})})});export{A as default};
