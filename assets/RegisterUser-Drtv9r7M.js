import{m as _,c as b,u as h,r as u,H as f,p as y,j as e,F as m,P as w,o as S,J as q}from"./index-_eOX-Mf-.js";import{B as F}from"./Button-Dx7nwdqQ.js";import{o as T,s as i,u as N,a as E}from"./zod-CPjTd-3S.js";import{F as I}from"./FadeIn-CG5d0pf_.js";import{I as t}from"./InputText-C4agJhyf.js";/* empty css                  */const M=T({login:i({required_error:"login є обов’язковим"}).min(4,"login є обов’язковим, не менше 4х символів"),password:i({required_error:"Пароль є обов’язковим"}).min(4,"Пароль є обов’язковим, не менше 4х символів"),name:i({required_error:"Ім’я є обов’язковим"}).min(2,"Ім’я є обов’язковим, не менше 2х символів"),subname:i({required_error:"Прізвище є обов’язковим"}).min(2,"Прізвище є обов’язковим, не менше 2х символів"),country:i({required_error:"Країна є обов’язковим полем"}).min(2,"Країна є обов’язковим, не менше 2х символів"),city:i({required_error:"Місто є обов’язковим"}).min(2,"Місто є обов’язковим, не менше 2х символів")}),U=({})=>{const n=_(),r=b(o=>o.register),c=h(),[g,l]=u.useState(""),{register:s,handleSubmit:d,reset:p,formState:{errors:a,isValid:x}}=N({resolver:E(M),defaultValues:{login:"",password:"",name:"",subname:"",country:"",city:""}}),j=async o=>{l(o.password),n(q(o)),p()};return u.useEffect(()=>{n(f.clearRegister()),l("")},[]),u.useEffect(()=>{!r.errorMassege&&r.data&&(r.data&&n(y({login:r.data?.login,password:g})),c("/mypage"))},[r]),e.jsx(e.Fragment,{children:e.jsx(I,{children:e.jsxs(m,{column:!0,center:!0,gap:5,className:"registerform login",children:[e.jsx("h3",{children:"РЕЄСТРАЦІЯ"}),r.errorMassege?e.jsx("p",{className:"login__error",children:r.errorMassege}):e.jsx("p",{}),r.isLoading?e.jsx(w,{}):e.jsx("form",{onSubmit:d(j),className:"login__submitform",children:e.jsxs(m,{center:!0,column:!0,gap:25,children:[e.jsxs(m,{className:"login__submitform__input",column:!0,children:[e.jsx(t,{id:"input_login_register",label:"Логін",...s("login"),error:a.login?.message}),e.jsx(t,{id:"input_password_register",label:"Пароль",...s("password"),error:a.password?.message}),e.jsx(t,{id:"input_name",label:"Ім’я",...s("name"),error:a.name?.message}),e.jsx(t,{id:"input_subname",label:"Прізвище",...s("subname"),error:a.subname?.message}),e.jsx(t,{id:"input_country",label:"Країна",...s("country"),error:a.country?.message}),e.jsx(t,{id:"input_city",label:"Місто",...s("city"),error:a.city?.message})]}),e.jsx(F,{isValid:x,type:"submit",appearence:"big",title:"SUBMIT"})]})}),e.jsx(S,{to:"/login",children:e.jsx("p",{children:"вхід"})})]})})})};export{U as default};
