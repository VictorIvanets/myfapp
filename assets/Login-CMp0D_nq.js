import{j as e,F as r,r as i,u as h,m as x,c as j,P as f,o as _,p as b}from"./index-_eOX-Mf-.js";import{B as w}from"./Button-Dx7nwdqQ.js";import{F as N}from"./FadeIn-CG5d0pf_.js";import{o as F,s as l,u as y,a as L}from"./zod-CPjTd-3S.js";import{I as c}from"./InputText-C4agJhyf.js";/* empty css                  */const S=({title:t})=>e.jsx(r,{column:!0,center:!0,className:"greetingwrapper",children:e.jsx(r,{column:!0,center:!0,className:"greeting",children:e.jsxs("h1",{children:["ВІТАЮ! ",e.jsx("br",{})," ",t.toLocaleUpperCase()]})})}),T=F({login:l({required_error:"login є обов’язковим"}).min(2,"Ім’я є обов’язковим, не менше 2х символів"),password:l({required_error:"Пароль є обов’язковим"}).min(4,"Пароль є обов’язковим, не менше 4х символів")}),B=i.memo(({})=>{const t=h(),u=x(),s=j(o=>o.auth),{register:a,handleSubmit:m,reset:g,formState:{errors:n,isValid:p}}=y({resolver:L(T),defaultValues:{login:"",password:""}}),d=async o=>{u(b({login:o.login,password:o.password})),g()};return i.useEffect(()=>{!s.errorMassege&&s.authinfo?.access_token&&(console.log(s.authinfo?.access_token),setTimeout(()=>{t("/mypage")},1e3))},[s]),e.jsx(e.Fragment,{children:s.authinfo?.login?e.jsx(S,{title:s.authinfo?.login}):s.isLoading?e.jsx(f,{}):e.jsx(N,{children:e.jsxs(r,{column:!0,center:!0,gap:35,className:"login",children:[e.jsx("h2",{children:"ВХІД У АКАУНТ"}),s.errorMassege?e.jsx("p",{className:"login__error",children:s.errorMassege}):e.jsx("p",{}),e.jsx("form",{onSubmit:m(d),className:"login__submitform",children:e.jsxs(r,{center:!0,column:!0,gap:25,children:[e.jsxs(r,{className:"login__submitform__input",column:!0,children:[e.jsx(c,{id:"input_login",label:"Логін",...a("login"),error:n.login?.message}),e.jsx(c,{id:"input_password",label:"Пароль",...a("password"),error:n.password?.message})]}),e.jsx(w,{isValid:p,type:"submit",appearence:"big",title:"ВХІД"})]})}),e.jsx(_,{to:"/register",children:e.jsx("p",{children:"не маєте акаунта? зареєструйтеся"})})]})})})});export{B as default};
