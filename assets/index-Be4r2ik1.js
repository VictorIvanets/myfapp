import{u as o,j as s,F as e,g as d,r as l,P as j}from"./index-DGztJ_8H.js";const x="https://kartinkof.club/uploads/posts/2022-05/1652635208_1-kartinkof-club-p-kartinki-subbota-ribalka-1.jpg",h=({item:r})=>{const c=r.date.slice(0,10).split("-").reverse().join("-"),t=o();return s.jsxs(e,{onClick:()=>t(`/details/${r._id}`),relativ:!0,column:!0,className:"card",children:[s.jsx(e,{absolute:!0,className:"card__fon",children:s.jsx("img",{className:"card__fon__img",src:r.img[0]?`${d}static/${r.img[0]?.url}`:x,alt:"fon"})}),s.jsxs(e,{className:"card__content",column:!0,children:[s.jsx("h4",{children:r.title}),s.jsx("p",{children:r.description}),s.jsx(e,{className:"card__author",absolute:!0,children:s.jsxs("p",{children:["Автор: ",r.userName]})}),s.jsxs(e,{className:"card__content__footer",spredV:!0,gap:10,children:[s.jsxs("p",{children:["Дата: ",c]}),s.jsxs("p",{children:["Оцінка: ",r.score]})]})]})]})},m="https://ukrainianfishing.com.ua/wp-content/uploads/2024/10/yak-vibrati-mistse-dlya-ribalki-na-koropa.jpg",f=({item:r})=>{const c=o();return s.jsxs(e,{onClick:()=>c(`/details/${r._id}`),relativ:!0,column:!0,className:"card",children:[s.jsx(e,{absolute:!0,className:"card__fon",children:s.jsx("img",{className:"card__fon__img",src:r.img[0]?`${d}static/${r.img[0]?.url}`:m,alt:"fon"})}),s.jsxs(e,{className:"card__content",column:!0,children:[s.jsx("h4",{children:r.title}),s.jsx("p",{children:r.description}),s.jsx(e,{className:"card__author",absolute:!0,children:s.jsxs("p",{children:["Ціна: ",r.paid?.price]})}),s.jsx(e,{className:"card__content__footer",spredV:!0,gap:10,children:s.jsx("p",{children:r.paid?.title})})]})]})},v=l.memo(({data:r,label:c,hasNextPage:t,fetchNextPage:i,isLoading:u,isFetchingNextPage:_})=>{const n=l.useRef(null);return l.useEffect(()=>{if(!t||!i)return;const a=new IntersectionObserver(p=>{p[0].isIntersecting&&i()},{threshold:1});return n.current&&a.observe(n.current),()=>{n.current&&a.unobserve(n.current)}},[t,i]),s.jsxs("div",{className:"listwrapper",children:[c&&s.jsx("h4",{className:"list__label",children:c}),s.jsxs("div",{className:"list",children:[r.map(a=>s.jsx("div",{style:{marginBottom:"2rem"},children:a.paid?s.jsx(f,{item:a},a._id):s.jsx(h,{item:a},a._id)},a._id)),(u||_)&&s.jsx("div",{className:"listwrapper__loader",children:s.jsx(j,{})}),t&&s.jsx("div",{ref:n,style:{height:"1px",marginTop:"-1px"}})]})]})});export{v as L};
